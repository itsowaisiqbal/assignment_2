{"version":3,"sources":["src/Bottle.js"],"names":["Bottle","scene","x","y","sprite","add","existing","matter","gameObject","setFriction","setFrictionAir","setFrictionStatic","setInteractive","hasFlippedInAir","isTouched","pointerY","velocity","startDragY","setVelocity","setAngularVelocity","Math","abs","angle","body","angularVelocity","Phaser","GameObjects","Sprite"],"mappings":";;;;;;;;;;;;;;;;;;;;;;IAAMA;;;;;EAEJ,gBAAYC,KAAZ,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyBC,MAAzB,EACA;IAAA;;IAAA;;IACE,0BAAMH,KAAN,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,MAAnB;IACA,MAAKH,KAAL,GAAaA,KAAb,CAFF,CAIE;;IACAA,KAAK,CAACI,GAAN,CAAUC,QAAV;IACAL,KAAK,CAACM,MAAN,CAAaF,GAAb,CAAiBG,UAAjB;;IAEA,MAAKC,WAAL,CAAiB,GAAjB;;IACA,MAAKC,cAAL,CAAoB,KAApB;;IACA,MAAKC,iBAAL,CAAuB,EAAvB,EAVF,CAYE;;;IACA,MAAKC,cAAL;;IAEA,MAAKC,eAAL,GAAuB,KAAvB;IACA,MAAKC,SAAL,GAAiB,KAAjB;IAhBF;EAiBC;;;;WAED,cAAKC,QAAL,EACA;MACE,IAAI,KAAKD,SAAT,EAAoB;MAEpB,IAAIE,QAAQ,GAAG,CAAC,KAAKf,KAAL,CAAWgB,UAAX,GAAwBF,QAAzB,IAAqC,EAApD;MACA,IAAIC,QAAQ,GAAG,EAAf,EAAmBA,QAAQ,GAAG,EAAX;MAEnB,KAAKE,WAAL,CAAiB,CAAjB,EAAoB,CAACF,QAArB;MACA,KAAKG,kBAAL,CAAwBH,QAAQ,GAAG,GAAnC;IACD;;;WAED,sBACA;MACE;MACA,OACEI,IAAI,CAACC,GAAL,CAAS,KAAKC,KAAd,IAAuB,IAAvB,IACAF,IAAI,CAACC,GAAL,CAAS,KAAKE,IAAL,CAAUC,eAAnB,IAAsC,CADtC,IAEAJ,IAAI,CAACC,GAAL,CAAS,KAAKE,IAAL,CAAUP,QAAV,CAAmBb,CAA5B,IAAiC,CAHnC;IAKD;;;;EAzCkBsB,MAAM,CAACC,WAAP,CAAmBC","file":"Bottle.a8a284fc.js","sourceRoot":"..","sourcesContent":["class Bottle extends Phaser.GameObjects.Sprite \r\n{\r\n  constructor(scene, x, y, sprite) \r\n  {\r\n    super(scene, x, y, sprite);\r\n    this.scene = scene;\r\n\r\n    // add the bottle to main scene\r\n    scene.add.existing(this);\r\n    scene.matter.add.gameObject(this);\r\n\r\n    this.setFriction(0.4);\r\n    this.setFrictionAir(0.009);\r\n    this.setFrictionStatic(10);\r\n\r\n    // make the bottle clickable\r\n    this.setInteractive();\r\n\r\n    this.hasFlippedInAir = false;\r\n    this.isTouched = false;\r\n  }\r\n\r\n  flip(pointerY) \r\n  {\r\n    if (this.isTouched) return;\r\n\r\n    let velocity = (this.scene.startDragY - pointerY) / 20;\r\n    if (velocity > 35) velocity = 35;\r\n\r\n    this.setVelocity(0, -velocity);\r\n    this.setAngularVelocity(velocity / 300);\r\n  }\r\n\r\n  isStanding() \r\n  {\r\n    // check a couple of factors to make sure that bottle is standing\r\n    return (\r\n      Math.abs(this.angle) < 0.65 &&\r\n      Math.abs(this.body.angularVelocity) < 2 &&\r\n      Math.abs(this.body.velocity.y) < 2\r\n    );\r\n  }\r\n}\r\n"]}